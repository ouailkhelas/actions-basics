name: Manual Deploy

on:
  workflow_dispatch:    # â† DÃ©clenchement MANUEL uniquement
    inputs:
      environment:
        description: 'Environment to deploy'
        required: true
        type: choice
        options:
        - development
        - staging
        - production
      version:
        description: 'Version number'
        required: true
        default: '1.0.0'
      message:
        description: 'Deployment message'
        required: false
        default: 'Manual deployment'

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - name: Show deployment info
      run: |
        echo "ğŸš€ Deploying to: ${{ inputs.environment }}"
        echo "ğŸ“¦ Version: ${{ inputs.version }}"
        echo "ğŸ’¬ Message: ${{ inputs.message }}"
        echo "ğŸ‘¤ Triggered by: ${{ github.actor }}"
        echo "ğŸ“… Time: $(date)"
    
    - name: Simulate deployment
      run: |
        echo "Installing dependencies..."
        sleep 2
        echo "Building application..."
        sleep 2
        echo "Deploying to ${{ inputs.environment }}..."
        sleep 2
        echo "âœ… Deployment completed!"